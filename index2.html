
<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Siber Kartlar - Barƒ±≈ü</title>
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        body { background-color: #0f172a; color: white; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; overflow-x: hidden; }
        .perspective-1000 { perspective: 1000px; }
        .transform-style-3d { transform-style: preserve-3d; }
        .backface-hidden { backface-visibility: hidden; }
        .rotate-y-180 { transform: rotateY(180deg); }
        
        /* Kart i√ßi scrollbar √∂zelle≈ütirme */
        .custom-scroll::-webkit-scrollbar { width: 6px; }
        .custom-scroll::-webkit-scrollbar-track { background: rgba(0,0,0,0.2); border-radius: 4px; }
        .custom-scroll::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.2); border-radius: 4px; }
        .custom-scroll::-webkit-scrollbar-thumb:hover { background: rgba(255,255,255,0.4); }

        /* Mobilde input focus olduƒüunda zoom yapmasƒ±nƒ± engellemek i√ßin */
        input, textarea { font-size: 16px !important; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, memo, useCallback, useRef } = React;

        // --- Bƒ∞LE≈ûEN: FlashCard (Kart) ---
        const FlashCard = memo(({ card, isFlipped, onFlip, onSwipe, onSkip }) => {
            const [touchStart, setTouchStart] = useState({ x: null, y: null });
            const [touchEnd, setTouchEnd] = useState({ x: null, y: null });
            const [swipeDirection, setSwipeDirection] = useState(null);
            
            // Cevap uzunsa scroll edilsin, swipe tetiklenmesin diye referans
            const contentRef = useRef(null);

            const minSwipeDistance = 70;

            const onTouchStart = (e) => {
                // Eƒüer cevap kƒ±smƒ±nda scroll yapƒ±lƒ±yorsa swipe'ƒ± engellemeye √ßalƒ±≈üalƒ±m
                // Ancak basitlik adƒ±na ≈üimdilik genel container'ƒ± dinliyoruz.
                setTouchEnd({ x: null, y: null });
                setTouchStart({ x: e.targetTouches[0].clientX, y: e.targetTouches[0].clientY });
                setSwipeDirection(null);
            };

            const onTouchMove = (e) => {
                setTouchEnd({ x: e.targetTouches[0].clientX, y: e.targetTouches[0].clientY });
                if (touchStart.x && touchStart.y) {
                    const distanceX = touchStart.x - e.targetTouches[0].clientX;
                    const distanceY = touchStart.y - e.targetTouches[0].clientY;
                    
                    // Yatay swipe (Cevap verme)
                    if (Math.abs(distanceX) > 40 && Math.abs(distanceY) < 30) {
                        setSwipeDirection(distanceX > 0 ? 'left' : 'right');
                    }
                    // Dikey swipe (Pas ge√ßme) - Sadece kart d√∂nmemi≈üken veya √ßok belirginse
                    else if (!isFlipped && distanceY > 40 && Math.abs(distanceX) < 20) {
                        setSwipeDirection('down');
                    }
                }
            };

            const onTouchEnd = () => {
                if (!touchStart.x || !touchEnd.x) return;
                const distanceX = touchStart.x - touchEnd.x;
                const distanceY = touchStart.y - touchEnd.y;
                
                // A≈üaƒüƒ± kaydƒ±rma (Pas ge√ß) - Sadece soru y√ºz√ºndeyken daha hassas
                if (!isFlipped && distanceY < -minSwipeDistance) {
                    onSkip();
                }
                // Saƒüa/Sola kaydƒ±rma (Cevapla) - Sadece arka y√ºz a√ßƒ±kken
                else if (isFlipped && Math.abs(distanceX) > minSwipeDistance) {
                     onSwipe(distanceX < 0); // Saƒü = Doƒüru
                }
                
                setSwipeDirection(null);
            };

            return (
                <div 
                    className={`relative w-full h-96 cursor-pointer transition-all duration-500 transform-style-3d ${isFlipped ? 'rotate-y-180' : ''} ${
                        swipeDirection === 'right' ? 'translate-x-4 rotate-2' : 
                        swipeDirection === 'left' ? '-translate-x-4 -rotate-2' : 
                        swipeDirection === 'down' ? 'translate-y-4' : ''
                    }`}
                    onClick={(e) => {
                        // Eƒüer metin se√ßiliyorsa veya scroll yapƒ±lƒ±yorsa tƒ±klamayƒ± engelle (flip olmasƒ±n)
                        if (window.getSelection().toString().length > 0) return;
                        onFlip();
                    }}
                    onTouchStart={onTouchStart}
                    onTouchMove={onTouchMove}
                    onTouchEnd={onTouchEnd}
                >
                    {/* √ñN Y√úZ (SORU) */}
                    <div className="absolute w-full h-full bg-slate-800 rounded-2xl p-6 flex flex-col items-center justify-center border-2 border-slate-700 shadow-2xl backface-hidden z-20">
                        <span className="text-blue-400 font-bold tracking-widest text-xs mb-4 uppercase">Soru</span>
                        <h3 className="text-xl md:text-3xl font-bold text-center leading-snug">{card.question}</h3>
                        <p className="text-gray-500 text-xs mt-auto animate-pulse">Cevabƒ± g√∂rmek i√ßin dokun</p>
                    </div>

                    {/* ARKA Y√úZ (CEVAP) */}
                    <div className="absolute w-full h-full bg-gradient-to-br from-blue-900 to-slate-900 rounded-2xl p-1 flex flex-col items-center justify-between border-2 border-blue-600 shadow-2xl backface-hidden rotate-y-180 z-10">
                        {/* ƒ∞√ßerik Wrapper - Padding ve Scroll i√ßin */}
                        <div className="w-full h-full p-5 flex flex-col">
                            <span className="text-blue-200 font-bold tracking-widest text-xs mb-2 text-center uppercase border-b border-blue-500/30 pb-2 w-full">Cevap</span>
                            
                            {/* CEVAP ALANI - Scrollable ve Format Korumalƒ± */}
                            <div 
                                className="flex-1 overflow-y-auto custom-scroll text-left w-full pr-1"
                                onClick={(e) => e.stopPropagation()} // ƒ∞√ßeriƒüe tƒ±klayƒ±nca kartƒ±n d√∂nmesini engelle (scroll i√ßin)
                            >
                                <p className="text-base md:text-lg text-white whitespace-pre-wrap leading-relaxed font-medium">
                                    {card.answer}
                                </p>
                            </div>

                            <div className="text-blue-300/50 text-xs mt-3 text-center pt-2 border-t border-blue-500/30 w-full">
                                <div>üëà Bilmiyorum &nbsp; ‚Ä¢ &nbsp; Biliyorum üëâ</div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        });

        // --- Bƒ∞LE≈ûEN: StickyNote (Yapƒ±≈ükan Not) ---
        const StickyNote = memo(({ note, onUpdate, onDelete }) => {
            const [isEditing, setIsEditing] = useState(false);
            const [text, setText] = useState(note.text);

            const colors = {
                yellow: 'bg-yellow-200 text-yellow-900',
                blue: 'bg-blue-200 text-blue-900',
                green: 'bg-green-200 text-green-900',
                pink: 'bg-pink-200 text-pink-900',
                purple: 'bg-purple-200 text-purple-900'
            };

            const handleSave = () => {
                if (text.trim()) {
                    onUpdate(note.id, text);
                    setIsEditing(false);
                }
            };

            return (
                <div className={`${colors[note.color]} rounded-lg p-3 shadow-lg relative min-h-[120px] transition-transform hover:scale-[1.02] flex flex-col`}>
                    {isEditing ? (
                        <div className="h-full flex flex-col flex-1">
                            <textarea
                                value={text}
                                onChange={(e) => setText(e.target.value)}
                                className="w-full h-full bg-white/40 p-1 text-sm rounded resize-none outline-none mb-2 flex-1 text-black"
                                rows="3"
                                autoFocus
                            />
                            <div className="flex justify-end gap-1 mt-auto">
                                <button onClick={() => setIsEditing(false)} className="px-2 py-1 text-xs bg-black/10 rounded hover:bg-black/20">ƒ∞ptal</button>
                                <button onClick={handleSave} className="px-2 py-1 text-xs bg-black/20 rounded hover:bg-black/30 font-bold">Kaydet</button>
                            </div>
                        </div>
                    ) : (
                        <>
                            {/* whitespace-pre-wrap eklendi: Notlardaki satƒ±r bo≈üluklarƒ±nƒ± korur */}
                            <p className="text-sm whitespace-pre-wrap font-medium flex-1 break-words">{note.text}</p>
                            <div className="absolute top-1 right-1 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity bg-black/5 rounded p-0.5">
                                <button onClick={() => setIsEditing(true)} className="p-1 hover:bg-black/10 rounded">‚úèÔ∏è</button>
                                <button onClick={() => onDelete(note.id)} className="p-1 hover:bg-red-500/20 rounded text-red-700">üóëÔ∏è</button>
                            </div>
                        </>
                    )}
                </div>
            );
        });

        // --- ANA UYGULAMA ---
        function CyberFlashcards() {
            const defaultTopics = [
                {
                    id: 1,
                    title: 'Web G√ºvenliƒüi',
                    expanded: true,
                    notes: [
                        { id: 1, text: 'XSS (Cross-Site Scripting):\nKullanƒ±cƒ± tarayƒ±cƒ±sƒ±nda zararlƒ± JS √ßalƒ±≈ütƒ±rmak.', color: 'pink' }
                    ],
                    cards: [
                        { 
                            id: 11, 
                            question: 'SQL Injection (SQLi) nedir?', 
                            answer: 'Uygulamanƒ±n veritabanƒ± sorgusuna m√ºdahale ederek yetkisiz veri okuma veya silme i≈ülemidir.\n\nKorunma:\n- Prepared Statements\n- Input Validation' 
                        }
                    ]
                }
            ];

            const [topics, setTopics] = useState(() => {
                try {
                    const saved = localStorage.getItem('cyberFlashcardsData');
                    return saved ? JSON.parse(saved) : defaultTopics;
                } catch { return defaultTopics; }
            });

            const [mode, setMode] = useState('browse');
            const [selectedTopic, setSelectedTopic] = useState(null);
            
            // Edit√∂r State'leri
            const [editingCard, setEditingCard] = useState(null);
            const [showAddCard, setShowAddCard] = useState(null);
            const [newQuestion, setNewQuestion] = useState('');
            const [newAnswer, setNewAnswer] = useState('');
            
            const [showAddNote, setShowAddNote] = useState(null);
            const [newNoteText, setNewNoteText] = useState('');
            const [selectedColor, setSelectedColor] = useState('yellow');

            // Test Modu State'leri
            const [testCards, setTestCards] = useState([]);
            const [currentCardIndex, setCurrentCardIndex] = useState(0);
            const [testStats, setTestStats] = useState({ correct: 0, wrong: 0 });
            const [isFlipped, setIsFlipped] = useState(false);

            useEffect(() => {
                localStorage.setItem('cyberFlashcardsData', JSON.stringify(topics));
            }, [topics]);

            const exportData = () => {
                const dataStr = "data:text/json;charset=utf-8," + encodeURIComponent(JSON.stringify(topics));
                const node = document.createElement('a');
                node.href = dataStr;
                node.download = "siber_kartlarim.json";
                node.click();
            };

            const importData = (e) => {
                const reader = new FileReader();
                reader.readAsText(e.target.files[0], "UTF-8");
                reader.onload = evt => {
                    try { setTopics(JSON.parse(evt.target.result)); alert("Y√ºklendi! ‚úÖ"); }
                    catch { alert("Dosya hatalƒ±! ‚ùå"); }
                };
            };

            const toggleTopic = (id) => setTopics(t => t.map(x => x.id === id ? { ...x, expanded: !x.expanded } : x));
            
            const addNewTopic = () => {
                const title = prompt("Yeni Konu Ba≈ülƒ±ƒüƒ±:");
                if (title) setTopics([...topics, { id: Date.now(), title, expanded: true, notes: [], cards: [] }]);
            };

            const addNote = (topicId) => {
                if (!newNoteText.trim()) return;
                setTopics(prev => prev.map(t => t.id === topicId ? {
                    ...t, notes: [...(t.notes || []), { id: Date.now(), text: newNoteText, color: selectedColor }]
                } : t));
                setNewNoteText('');
                setShowAddNote(null);
            };

            const updateNote = (tId, nId, text) => setTopics(ts => ts.map(t => t.id === tId ? { ...t, notes: t.notes.map(n => n.id === nId ? { ...n, text } : n) } : t));
            const deleteNote = (tId, nId) => setTopics(ts => ts.map(t => t.id === tId ? { ...t, notes: t.notes.filter(n => n.id !== nId) } : t));

            const addCard = (topicId) => {
                if (!newQuestion.trim() || !newAnswer.trim()) return;
                setTopics(prev => prev.map(t => t.id === topicId ? {
                    ...t, cards: [...t.cards, { id: Date.now(), question: newQuestion, answer: newAnswer }]
                } : t));
                setNewQuestion(''); setNewAnswer(''); setShowAddCard(null);
            };

            const updateCard = (tId, cId, q, a) => {
                setTopics(ts => ts.map(t => t.id === tId ? { ...t, cards: t.cards.map(c => c.id === cId ? { ...c, question: q, answer: a } : c) } : t));
                setEditingCard(null);
            };

            const deleteCard = (tId, cId) => {
                if (confirm("Bu kartƒ± silmek istiyor musun?")) setTopics(ts => ts.map(t => t.id === tId ? { ...t, cards: t.cards.filter(c => c.id !== cId) } : t));
            };

            const startTest = (topic) => {
                if (topic.cards.length === 0) return alert("Bu konuda hen√ºz kart yok!");
                setTestCards([...topic.cards].sort(() => Math.random() - 0.5));
                setCurrentCardIndex(0);
                setTestStats({ correct: 0, wrong: 0 });
                setIsFlipped(false);
                setMode('test');
                setSelectedTopic(topic);
            };

            const handleAnswer = (isCorrect) => {
                setTestStats(p => ({ correct: p.correct + (isCorrect ? 1 : 0), wrong: p.wrong + (isCorrect ? 0 : 1) }));
                setIsFlipped(false);
                setTimeout(() => setCurrentCardIndex(p => p + 1), 300);
            };

            const skipCard = () => {
                setIsFlipped(false);
                setTimeout(() => setCurrentCardIndex(p => p + 1), 200);
            };

            // --- RENDER TEST MODU ---
            if (mode === 'test') {
                const isFinished = currentCardIndex >= testCards.length;
                const progress = (currentCardIndex / testCards.length) * 100;
                
                return (
                    <div className="fixed inset-0 flex flex-col items-center bg-gray-900 overflow-y-auto overflow-x-hidden">
                        <div className="w-full max-w-lg p-4 flex flex-col min-h-screen">
                            {/* √úst Bar */}
                            <div className="flex justify-between items-center mb-4 pt-2">
                                <h2 className="text-lg md:text-xl font-bold text-blue-400 truncate pr-2">{selectedTopic.title}</h2>
                                <button onClick={() => setMode('browse')} className="px-3 py-1.5 bg-slate-700 rounded text-xs md:text-sm hover:bg-slate-600 whitespace-nowrap">√áƒ±kƒ±≈ü</button>
                            </div>
                            
                            {/* ƒ∞lerleme */}
                            <div className="w-full bg-slate-700 h-2 rounded-full mb-6 shrink-0">
                                <div className="bg-blue-500 h-2 rounded-full transition-all duration-500" style={{ width: `${isFinished ? 100 : progress}%` }}></div>
                            </div>

                            {!isFinished ? (
                                <div className="flex flex-col flex-1 justify-center pb-8">
                                    <div className="perspective-1000 mb-6 w-full flex justify-center">
                                        <div className="w-full max-w-sm">
                                            <FlashCard 
                                                card={testCards[currentCardIndex]}
                                                isFlipped={isFlipped}
                                                onFlip={() => setIsFlipped(!isFlipped)}
                                                onSwipe={handleAnswer}
                                                onSkip={skipCard}
                                            />
                                        </div>
                                    </div>
                                    
                                    <div className={`grid grid-cols-2 gap-3 transition-opacity duration-300 ${isFlipped ? 'opacity-100' : 'opacity-40 pointer-events-none'}`}>
                                        <button onClick={() => handleAnswer(false)} className="py-4 bg-red-600/90 rounded-xl font-bold shadow-lg active:scale-95 text-lg">‚ùå</button>
                                        <button onClick={() => handleAnswer(true)} className="py-4 bg-green-600/90 rounded-xl font-bold shadow-lg active:scale-95 text-lg">‚úÖ</button>
                                    </div>
                                    <button onClick={skipCard} className="w-full mt-4 py-3 text-slate-500 text-sm">Bu soruyu sonra sor</button>
                                </div>
                            ) : (
                                <div className="flex flex-col items-center justify-center flex-1 animate-fade-in">
                                    <div className="bg-slate-800 rounded-2xl p-8 text-center border border-slate-700 shadow-2xl w-full">
                                        <h3 className="text-3xl font-bold mb-6">Bitti! üéØ</h3>
                                        <div className="flex justify-center gap-8 mb-8">
                                            <div><div className="text-5xl font-bold text-green-500">{testStats.correct}</div><div className="text-sm mt-1 text-gray-400">DOƒûRU</div></div>
                                            <div><div className="text-5xl font-bold text-red-500">{testStats.wrong}</div><div className="text-sm mt-1 text-gray-400">YANLI≈û</div></div>
                                        </div>
                                        <button onClick={() => startTest(selectedTopic)} className="w-full py-3 bg-blue-600 rounded-xl font-bold mb-3 hover:bg-blue-500">Tekrar Dene</button>
                                        <button onClick={() => setMode('browse')} className="w-full py-3 bg-slate-700 rounded-xl font-bold hover:bg-slate-600">Ana Men√º</button>
                                    </div>
                                </div>
                            )}
                        </div>
                    </div>
                );
            }

            // --- RENDER ANA SAYFA ---
            return (
                <div className="min-h-screen p-4 md:p-8 max-w-4xl mx-auto pb-20">
                    <div className="flex flex-col md:flex-row justify-between items-center mb-8 gap-4">
                        <div className="text-center md:text-left">
                            <h1 className="text-3xl md:text-4xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent">CyberCards üõ°Ô∏è</h1>
                            <p className="text-slate-400 text-xs md:text-sm mt-1">Siber g√ºvenlik √ßalƒ±≈üma kartlarƒ±</p>
                        </div>
                        <div className="flex gap-2">
                            <button onClick={exportData} className="px-3 py-2 bg-slate-800 border border-slate-700 rounded hover:bg-slate-700 text-xs md:text-sm">üíæ Yedekle</button>
                            <label className="px-3 py-2 bg-slate-800 border border-slate-700 rounded hover:bg-slate-700 text-xs md:text-sm cursor-pointer">
                                üìÇ Y√ºkle <input type="file" onChange={importData} className="hidden" accept=".json" />
                            </label>
                        </div>
                    </div>

                    <div className="space-y-4">
                        {topics.map(topic => (
                            <div key={topic.id} className="bg-slate-800/50 border border-slate-700 rounded-xl overflow-hidden shadow-sm">
                                <div className="p-4 bg-slate-800 flex items-center justify-between cursor-pointer select-none active:bg-slate-750" onClick={() => toggleTopic(topic.id)}>
                                    <div className="flex items-center gap-3 overflow-hidden">
                                        <span className="text-xl shrink-0">{topic.expanded ? 'üìÇ' : 'üìÅ'}</span>
                                        <h2 className="text-base md:text-lg font-bold text-slate-100 truncate">{topic.title}</h2>
                                        <span className="text-[10px] bg-slate-700 px-2 py-0.5 rounded-full text-slate-300 shrink-0">{topic.cards.length}</span>
                                    </div>
                                    {topic.cards.length > 0 && (
                                        <button onClick={(e) => { e.stopPropagation(); startTest(topic); }} className="ml-2 px-3 py-1.5 bg-blue-600 text-white text-xs md:text-sm rounded-lg hover:bg-blue-500 font-medium shadow-lg shrink-0">
                                            üß† Test
                                        </button>
                                    )}
                                </div>

                                {topic.expanded && (
                                    <div className="p-4 border-t border-slate-700">
                                        
                                        {/* Sticky Notlar */}
                                        <div className="mb-6">
                                            <div className="flex justify-between items-center mb-3">
                                                <h3 className="text-xs font-bold text-yellow-500 tracking-widest uppercase">üìå Notlar</h3>
                                                <button onClick={() => setShowAddNote(topic.id)} className="text-xs text-yellow-500 hover:text-yellow-300 p-1">‚ûï Ekle</button>
                                            </div>
                                            
                                            {showAddNote === topic.id && (
                                                <div className="mb-4 bg-slate-900 p-3 rounded-lg border border-yellow-500/30">
                                                    <textarea 
                                                        value={newNoteText} onChange={e => setNewNoteText(e.target.value)}
                                                        className="w-full bg-transparent text-white text-sm outline-none resize-none placeholder-slate-600" 
                                                        placeholder="Notunu yaz..." rows="3" autoFocus
                                                    />
                                                    <div className="flex justify-between items-center mt-2">
                                                        <div className="flex gap-1 overflow-x-auto pb-1">
                                                            {['yellow','blue','green','pink','purple'].map(c => (
                                                                <button key={c} onClick={() => setSelectedColor(c)} 
                                                                    className={`w-6 h-6 rounded-full border-2 ${selectedColor===c ? 'border-white' : 'border-transparent'} shrink-0`}
                                                                    style={{backgroundColor: c === 'yellow' ? '#fde047' : c === 'blue' ? '#60a5fa' : c === 'green' ? '#4ade80' : c === 'pink' ? '#f472b6' : '#c084fc'}}
                                                                />
                                                            ))}
                                                        </div>
                                                        <div className="flex gap-2">
                                                            <button onClick={() => setShowAddNote(null)} className="text-xs text-slate-400">ƒ∞ptal</button>
                                                            <button onClick={() => addNote(topic.id)} className="text-xs bg-yellow-600 px-3 py-1 rounded text-white">Kaydet</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            )}

                                            <div className="grid grid-cols-2 sm:grid-cols-3 gap-3">
                                                {(topic.notes || []).map(note => (
                                                    <StickyNote key={note.id} note={note} onUpdate={(nid, txt) => updateNote(topic.id, nid, txt)} onDelete={(nid) => deleteNote(topic.id, nid)} />
                                                ))}
                                            </div>
                                        </div>

                                        {/* Flash Kartlar Listesi */}
                                        <div>
                                            <div className="flex justify-between items-center mb-3">
                                                <h3 className="text-xs font-bold text-purple-400 tracking-widest uppercase">üé¥ Kartlar ({topic.cards.length})</h3>
                                            </div>

                                            <div className="grid gap-3">
                                                {topic.cards.map(card => (
                                                    <div key={card.id} className="bg-slate-800 border border-slate-700 p-3 rounded-lg group">
                                                        {editingCard === card.id ? (
                                                            <div className="space-y-3">
                                                                <input defaultValue={card.question} onChange={e => card.tempQ = e.target.value} className="w-full bg-slate-900 border border-slate-600 rounded p-2 text-white text-sm" placeholder="Soru" />
                                                                <textarea defaultValue={card.answer} onChange={e => card.tempA = e.target.value} className="w-full bg-slate-900 border border-slate-600 rounded p-2 text-white text-sm resize-y min-h-[80px]" placeholder="Cevap" />
                                                                <div className="flex justify-end gap-2">
                                                                    <button onClick={() => setEditingCard(null)} className="text-xs text-slate-400">ƒ∞ptal</button>
                                                                    <button onClick={() => updateCard(topic.id, card.id, card.tempQ || card.question, card.tempA || card.answer)} className="text-xs bg-green-600 px-3 py-1 rounded text-white">G√ºncelle</button>
                                                                </div>
                                                            </div>
                                                        ) : (
                                                            <div className="flex flex-col gap-2">
                                                                <div className="font-semibold text-slate-200 text-sm">{card.question}</div>
                                                                <div className="text-xs text-slate-400 bg-slate-900/50 p-2 rounded whitespace-pre-wrap">{card.answer}</div>
                                                                <div className="flex justify-end gap-3 mt-1 opacity-60">
                                                                    <button onClick={() => setEditingCard(card.id)} className="text-blue-400 text-xs">D√ºzenle</button>
                                                                    <button onClick={() => deleteCard(topic.id, card.id)} className="text-red-400 text-xs">Sil</button>
                                                                </div>
                                                            </div>
                                                        )}
                                                    </div>
                                                ))}
                                            </div>

                                            {/* Kart Ekleme */}
                                            <div className="mt-4">
                                                {showAddCard === topic.id ? (
                                                    <div className="bg-slate-800 border-2 border-dashed border-blue-500/50 p-4 rounded-lg">
                                                        <input value={newQuestion} onChange={e => setNewQuestion(e.target.value)} className="w-full bg-slate-900 border border-slate-600 rounded p-2 text-white text-sm mb-2" placeholder="Soru?" />
                                                        <textarea value={newAnswer} onChange={e => setNewAnswer(e.target.value)} className="w-full bg-slate-900 border border-slate-600 rounded p-2 text-white text-sm mb-3 resize-y min-h-[100px]" placeholder="Cevap (Enter ile alt satƒ±ra ge√ßebilirsin)" />
                                                        <div className="flex justify-end gap-2">
                                                            <button onClick={() => setShowAddCard(null)} className="text-slate-400 px-3 py-1 text-xs">ƒ∞ptal</button>
                                                            <button onClick={() => addCard(topic.id)} className="bg-blue-600 text-white px-4 py-1 rounded hover:bg-blue-500 text-xs font-bold">Kaydet</button>
                                                        </div>
                                                    </div>
                                                ) : (
                                                    <button onClick={() => setShowAddCard(topic.id)} className="w-full py-3 border-2 border-dashed border-slate-700 rounded-lg text-slate-500 hover:border-slate-500 hover:text-slate-300 transition-all flex items-center justify-center gap-2 text-sm">
                                                        <span>‚ûï</span> Yeni Kart Ekle
                                                    </button>
                                                )}
                                            </div>
                                        </div>
                                    </div>
                                )}
                            </div>
                        ))}

                        <button onClick={addNewTopic} className="w-full py-4 bg-slate-800 rounded-xl text-slate-400 border border-slate-700 hover:bg-slate-700 hover:text-white transition-all flex items-center justify-center gap-2 text-sm font-bold">
                            üìö Yeni Konu Ba≈ülƒ±ƒüƒ± Ekle
                        </button>
                        
                        <div className="h-10"></div> {/* Alt bo≈üluk */}
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<CyberFlashcards />);
    </script>
</body>
</html>

```

